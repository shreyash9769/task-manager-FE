(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[8],{40:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(38),r=n.n(a),c=n(39),s=n(14),o=n(1),i=function(){var e=Object(o.useState)(!1),t=Object(s.a)(e,2),n=t[0],a=t[1],i=Object(o.useState)(),l=Object(s.a)(i,2),u=l[0],d=l[1],j=Object(o.useCallback)(function(){var e=Object(c.a)(r.a.mark((function e(t){var n,c,s,o,i,l=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:"GET",c=l.length>2&&void 0!==l[2]?l[2]:null,s=l.length>3&&void 0!==l[3]?l[3]:{},a(!0),e.prev=4,e.next=7,fetch(t,{method:n,body:c,headers:s});case 7:return o=e.sent,e.next=10,o.json();case 10:if(i=e.sent,o.ok){e.next=13;break}throw new Error(i.mess);case 13:return a(!1),e.abrupt("return",i);case 17:throw e.prev=17,e.t0=e.catch(4),d(e.t0.message||"Something went wrong"),a(!1),e.t0;case 22:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t){return e.apply(this,arguments)}}(),[]);return{isLoading:n,error:u,sendRequest:j,clearError:function(){d(null)}}}},41:function(e,t,n){"use strict";n(1);var a=n(43),r=n(42),c=n.n(r),s=n(0);t.a=function(e){return Object(s.jsx)(a.a,{onCancel:e.onClear,header:"An Error Occurred!",show:!!e.error,footer:Object(s.jsx)("button",{className:c.a.edit,onClick:e.onClear,children:"Okay"}),children:Object(s.jsx)("p",{children:e.error})})}},42:function(e,t,n){e.exports={main:"Task_main__1S7O9",task:"Task_task__y_jar",p:"Task_p__3_LGx",button:"Task_button__2WaKy",edit:"Task_edit__1rpTY",delete:"Task_delete__1C-mw",cancel:"Task_cancel__395EH",values:"Task_values__3uKPV"}},43:function(e,t,n){"use strict";var a=n(46),r=n(1),c=n.n(r),s=n(18),o=n.n(s),i=n(67),l=(n(44),n(0)),u=function(e){return o.a.createPortal(Object(l.jsx)("div",{className:"backdrop",onClick:e.onClick}),document.getElementById("backdrop-hook"))},d=(n(45),function(e){var t=Object(l.jsxs)("div",{className:"modal ".concat(e.className),style:e.style,children:[Object(l.jsx)("header",{className:"modal__header ".concat(e.headerClass),children:Object(l.jsx)("h2",{children:e.header})}),Object(l.jsxs)("form",{onSubmit:e.onSubmit?e.onSubmit:function(e){return e.preventDefault()},children:[Object(l.jsx)("div",{className:"modal__content ".concat(e.contentClass),children:e.children}),Object(l.jsx)("footer",{className:"modal__footer ".concat(e.footerClass),children:e.footer})]})]});return o.a.createPortal(t,document.getElementById("modal-hook"))});t.a=function(e){return Object(l.jsxs)(c.a.Fragment,{children:[e.show&&Object(l.jsx)(u,{onClick:e.onCancel}),Object(l.jsx)(i.a,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal",children:Object(l.jsx)(d,Object(a.a)({},e))})]})}},44:function(e,t,n){},45:function(e,t,n){},55:function(e,t,n){e.exports={main:"NewTaskForm_main__2EIF6",form:"NewTaskForm_form__3f5bB",req:"NewTaskForm_req__1x8mb"}},64:function(e,t,n){"use strict";n.r(t);var a=n(38),r=n.n(a),c=n(39),s=n(14),o=n(1),i=n(2),l=n(40),u=n(11),d=n(41),j=n(19),b=n(55),h=n.n(b),m=n(0);t.default=function(e){var t=Object(o.useContext)(u.a),n=Object(i.g)(),a=Object(l.a)(),b=a.isLoading,p=a.error,O=a.sendRequest,f=a.clearError,x=Object(o.useState)(""),k=Object(s.a)(x,2),_=k[0],v=k[1],g=Object(o.useState)(""),C=Object(s.a)(g,2),w=C[0],N=C[1],T=Object(o.useState)(""),y=Object(s.a)(T,2),S=y[0],E=y[1],I=function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,O("https://shreyash-task-manager-app.herokuapp.com/tasks","POST",JSON.stringify({title:_,description:S,status:w||"Incomplete",owner:t.userId}),{Authorization:"Bearer "+t.token,"Content-Type":"application/json"});case 4:n.push("/tasks/".concat(t.userId)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:v(""),N(""),E("");case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsx)(d.a,{error:p,onClear:f}),Object(m.jsxs)("div",{className:h.a.main,children:[b&&Object(m.jsx)(j.a,{asOverlay:!0}),Object(m.jsxs)("form",{onSubmit:I,className:h.a.form,children:[Object(m.jsx)("p",{children:"Add a new task"}),Object(m.jsx)("label",{className:h.a.req,htmlFor:"taskName",children:"Task Name"}),Object(m.jsx)("input",{onChange:function(e){v(e.target.value)},value:_,id:"taskName",type:"text"}),Object(m.jsx)("label",{className:h.a.req,htmlFor:"description",children:"Task Description"}),Object(m.jsx)("textarea",{onChange:function(e){E(e.target.value)},value:S,id:"description",type:"text"}),Object(m.jsx)("label",{htmlFor:"status",children:"Task Status"}),Object(m.jsxs)("select",{onChange:function(e){N(e.target.value)},value:w,id:"status",children:[Object(m.jsx)("option",{value:"Incomplete",children:"Incomplete"}),Object(m.jsx)("option",{value:"Completed",children:"Completed"}),Object(m.jsx)("option",{value:"In Progress",children:"In Progress"})]}),Object(m.jsx)("button",{type:"submit",children:"Add Task"}),Object(m.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),n.push("/tasks/".concat(t.userId))},children:"Cancel"})]})]})]})}}}]);
//# sourceMappingURL=8.4f61f000.chunk.js.map