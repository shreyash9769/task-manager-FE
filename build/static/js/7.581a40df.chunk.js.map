{"version":3,"sources":["components/http-hooks.js","components/ErrorModal.js","css/Task.module.css","components/Backdrop.js","components/Modal.js","css/Login.module.css","components/Login.js"],"names":["useHttpClient","useState","isLoading","setIsLoading","error","setError","sendRequest","useCallback","url","a","method","body","headers","fetch","response","json","responseData","ok","Error","mess","message","clearError","ErrorModal","props","onCancel","onClear","header","show","footer","className","classes","edit","onClick","module","exports","Backdrop","ReactDOM","createPortal","document","getElementById","ModalOverlay","content","style","headerClass","onSubmit","event","preventDefault","contentClass","children","footerClass","Modal","Fragment","CSSTransition","in","mountOnEnter","unmountOnExit","timeout","classNames","Login","auth","useContext","AuthContext","email","setEmail","password","setPassword","submitHandler","process","JSON","stringify","login","user","_id","token","main","asOverlay","form","htmlFor","id","type","onChange","target","value","friend","to"],"mappings":"iNAEaA,EAAgB,WACzB,MAAkCC,oBAAS,GAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAA0BF,qBAA1B,mBAAOG,EAAP,KAAcC,EAAd,KACMC,EAAcC,sBAAW,uCAAC,WAAOC,GAAP,mCAAAC,EAAA,6DAAYC,EAAZ,+BAAqB,MAAOC,EAA5B,+BAAmC,KAAMC,EAAzC,+BAAmD,GAC/ET,GAAa,GADe,kBAGDU,MAAML,EAAK,CAC9BE,SACAC,OACAC,YANoB,cAGlBE,EAHkB,iBAQGA,EAASC,OARZ,WAQlBC,EARkB,OASnBF,EAASG,GATU,uBAUd,IAAIC,MAAMF,EAAaG,MAVT,eAYxBhB,GAAa,GAZW,kBAajBa,GAbiB,wCAexBX,EAAS,KAAIe,SAAW,wBACxBjB,GAAa,GAhBW,+DAAD,sDAoB5B,IAKH,MAAO,CAAED,YAAWE,QAAOE,cAAae,WAJrB,WACfhB,EAAS,U,gCC3BjB,yCAiBeiB,IAbI,SAAAC,GACjB,OACE,cAAC,IAAD,CACEC,SAAUD,EAAME,QAChBC,OAAO,qBACPC,OAAQJ,EAAMnB,MACdwB,OAAQ,wBAAQC,UAAWC,IAAQC,KAAMC,QAAST,EAAME,QAAhD,kBAJV,SAME,4BAAIF,EAAMnB,Y,mBCXhB6B,EAAOC,QAAU,CAAC,KAAO,mBAAmB,KAAO,mBAAmB,EAAI,gBAAgB,OAAS,qBAAqB,KAAO,mBAAmB,OAAS,qBAAqB,OAAS,qBAAqB,OAAS,uB,oGCWxMC,EAPE,SAAAZ,GACb,OAAOa,IAASC,aACZ,qBAAKR,UAAU,WAAWG,QAAST,EAAMS,UACzCM,SAASC,eAAe,mBCD1BC,G,MAAe,SAAAjB,GACjB,IAAMkB,EACF,sBAAKZ,UAAS,gBAAWN,EAAMM,WAAaa,MAAOnB,EAAMmB,MAAzD,UACI,wBAAQb,UAAS,wBAAmBN,EAAMoB,aAA1C,SACI,6BAAKpB,EAAMG,WAEf,uBACIkB,SACIrB,EAAMqB,SAAWrB,EAAMqB,SAAW,SAAAC,GAAK,OAAIA,EAAMC,kBAFzD,UAKI,qBAAKjB,UAAS,yBAAoBN,EAAMwB,cAAxC,SACKxB,EAAMyB,WAEX,wBAAQnB,UAAS,wBAAmBN,EAAM0B,aAA1C,SACK1B,EAAMK,eAKvB,OAAOQ,IAASC,aAAaI,EAASH,SAASC,eAAe,iBAoBnDW,IAjBD,SAAA3B,GACV,OACI,eAAC,IAAM4B,SAAP,WACK5B,EAAMI,MAAQ,cAAC,EAAD,CAAUK,QAAST,EAAMC,WACxC,cAAC4B,EAAA,EAAD,CACIC,GAAI9B,EAAMI,KACV2B,cAAY,EACZC,eAAa,EACbC,QAAS,IACTC,WAAW,QALf,SAOI,cAAC,EAAD,eAAkBlC,W,6DCxClCU,EAAOC,QAAU,CAAC,KAAO,oBAAoB,KAAO,oBAAoB,OAAS,wB,2JC+DlEwB,UAzDD,WACV,IAAMC,EAAOC,qBAAWC,KACxB,EAA0B5D,mBAAS,IAAnC,mBAAO6D,EAAP,KAAcC,EAAd,KACA,EAAgC9D,mBAAS,IAAzC,mBAAO+D,EAAP,KAAiBC,EAAjB,KACA,EAAsDjE,cAA9CE,EAAR,EAAQA,UAAWE,EAAnB,EAAmBA,MAAOE,EAA1B,EAA0BA,YAAae,EAAvC,EAAuCA,WAQjC6C,EAAa,uCAAG,WAAMrB,GAAN,eAAApC,EAAA,6DAClBoC,EAAMC,iBADY,kBAGaxC,EAAY6D,8DAAoD,OACvFC,KAAKC,UAAU,CACXP,QACAE,aAEJ,CACI,eAAgB,qBATV,OAGRhD,EAHQ,OAad2C,EAAKW,MAAMtD,EAAauD,KAAKC,IAAKxD,EAAayD,OAbjC,yGAAH,sDAkBnB,OAAO,eAAC,IAAMtB,SAAP,WACH,cAAC,IAAD,CAAY/C,MAAOA,EAAOqB,QAASJ,IACnC,sBAAKQ,UAAWC,IAAQ4C,KAAxB,UACKxE,GAAa,cAAC,IAAD,CAAgByE,WAAS,IACvC,8BACI,uBAAM/B,SAAUsB,EAAerC,UAAWC,IAAQ8C,KAAlD,UACI,uBAAOC,QAAQ,QAAf,mBACA,uBAAOC,GAAG,QAAQC,KAAK,QAAQC,SA/BpB,SAAAnC,GACvBkB,EAASlB,EAAMoC,OAAOC,QA8BmDA,MAAOpB,IACpE,uBAAOe,QAAQ,WAAf,sBACA,uBAAOC,GAAG,WAAWC,KAAK,WAAWC,SA9BvB,SAAAnC,GAC1BoB,EAAYpB,EAAMoC,OAAOC,QA6ByDA,MAAOlB,IAC7E,gDAIR,sBAAKnC,UAAWC,IAAQqD,OAAxB,UACI,wCACA,8CACA,wEACA,uDACA,cAAC,IAAD,CAAMC,GAAG,UAAT,SACI,wBAAQL,KAAK,SAAb","file":"static/js/7.581a40df.chunk.js","sourcesContent":["import { useState, useCallback } from \"react\"\r\n\r\nexport const useHttpClient = () => {\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [error, setError] = useState()\r\n    const sendRequest = useCallback(async (url, method = \"GET\", body = null, headers = {}) => {\r\n        setIsLoading(true)\r\n        try {\r\n            const response = await fetch(url, {\r\n                method,\r\n                body,\r\n                headers\r\n            })\r\n            const responseData = await response.json()\r\n            if (!response.ok) {\r\n                throw new Error(responseData.mess)\r\n            }\r\n            setIsLoading(false)\r\n            return responseData\r\n        } catch (err) {\r\n            setError(err.message || \"Something went wrong\")\r\n            setIsLoading(false)\r\n            throw err\r\n        }\r\n\r\n    }, [])\r\n    const clearError = () => {\r\n        setError(null)\r\n    }\r\n\r\n    return { isLoading, error, sendRequest, clearError }\r\n}","import React from 'react';\n\nimport Modal from './Modal';\nimport classes from \"../css/Task.module.css\"\nconst ErrorModal = props => {\n  return (\n    <Modal\n      onCancel={props.onClear}\n      header=\"An Error Occurred!\"\n      show={!!props.error}\n      footer={<button className={classes.edit} onClick={props.onClear}>Okay</button>}\n    >\n      <p>{props.error}</p>\n    </Modal>\n  );\n};\n\nexport default ErrorModal;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Task_main__1S7O9\",\"task\":\"Task_task__y_jar\",\"p\":\"Task_p__3_LGx\",\"button\":\"Task_button__2WaKy\",\"edit\":\"Task_edit__1rpTY\",\"delete\":\"Task_delete__1C-mw\",\"cancel\":\"Task_cancel__395EH\",\"values\":\"Task_values__3uKPV\"};","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './Backdrop.css';\r\n\r\nconst Backdrop = props => {\r\n    return ReactDOM.createPortal(\r\n        <div className=\"backdrop\" onClick={props.onClick}></div>,\r\n        document.getElementById('backdrop-hook')\r\n    );\r\n};\r\n\r\nexport default Backdrop;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { CSSTransition } from 'react-transition-group';\r\n\r\nimport Backdrop from './Backdrop';\r\nimport './Modal.css';\r\n\r\nconst ModalOverlay = props => {\r\n    const content = (\r\n        <div className={`modal ${props.className}`} style={props.style}>\r\n            <header className={`modal__header ${props.headerClass}`}>\r\n                <h2>{props.header}</h2>\r\n            </header>\r\n            <form\r\n                onSubmit={\r\n                    props.onSubmit ? props.onSubmit : event => event.preventDefault()\r\n                }\r\n            >\r\n                <div className={`modal__content ${props.contentClass}`}>\r\n                    {props.children}\r\n                </div>\r\n                <footer className={`modal__footer ${props.footerClass}`}>\r\n                    {props.footer}\r\n                </footer>\r\n            </form>\r\n        </div>\r\n    );\r\n    return ReactDOM.createPortal(content, document.getElementById('modal-hook'));\r\n};\r\n\r\nconst Modal = props => {\r\n    return (\r\n        <React.Fragment>\r\n            {props.show && <Backdrop onClick={props.onCancel} />}\r\n            <CSSTransition\r\n                in={props.show}\r\n                mountOnEnter\r\n                unmountOnExit\r\n                timeout={200}\r\n                classNames=\"modal\"\r\n            >\r\n                <ModalOverlay {...props} />\r\n            </CSSTransition>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default Modal;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Login_main__2mzhJ\",\"form\":\"Login_form__S-bCW\",\"friend\":\"Login_friend__1H2x8\"};","import React, { useContext, useState } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { AuthContext } from \"./auth-context\"\r\nimport LoadingSpinner from \"./LoadingSpinner\"\r\nimport ErrorModal from \"./ErrorModal\"\r\nimport { useHttpClient } from \"./http-hooks\"\r\nimport classes from \"../css/Login.module.css\"\r\nconst Login = () => {\r\n    const auth = useContext(AuthContext)\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient()\r\n\r\n    const emailChangeHandler = event => {\r\n        setEmail(event.target.value)\r\n    }\r\n    const passwordChangeHandler = event => {\r\n        setPassword(event.target.value)\r\n    }\r\n    const submitHandler = async event => {\r\n        event.preventDefault()\r\n        try {\r\n            const responseData = await sendRequest(process.env.REACT_APP_BACKEND_URL + \"/users/login\", \"POST\",\r\n                JSON.stringify({\r\n                    email,\r\n                    password\r\n                }),\r\n                {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n\r\n            )\r\n            auth.login(responseData.user._id, responseData.token)\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n    return <React.Fragment>\r\n        <ErrorModal error={error} onClear={clearError}></ErrorModal>\r\n        <div className={classes.main}>\r\n            {isLoading && <LoadingSpinner asOverlay></LoadingSpinner>}\r\n            <div>\r\n                <form onSubmit={submitHandler} className={classes.form}>\r\n                    <label htmlFor=\"email\">Email</label>\r\n                    <input id=\"email\" type=\"email\" onChange={emailChangeHandler} value={email}></input>\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input id=\"password\" type=\"password\" onChange={passwordChangeHandler} value={password}></input>\r\n                    <button>Login</button>\r\n\r\n                </form>\r\n            </div>\r\n            <div className={classes.friend}>\r\n                <h1>Log In</h1>\r\n                <h2>Welcome Back</h2>\r\n                <p>Log In and continue managing your tasks</p>\r\n                <p>Don't have an account?</p>\r\n                <Link to=\"/signup\">\r\n                    <button type=\"button\">Switch to Signup</button>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    </React.Fragment>\r\n}\r\n\r\nexport default Login"],"sourceRoot":""}